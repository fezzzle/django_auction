{% extends "auction/base.html" %}

{% block content %}
<h1>Create an auction</h1>
<div class="error-box">
    {% if messages %}
    <ul class="messages">
        {% for message in messages %}
        <li class="{{ message.tags }}">{{ message }}</li>
        {% endfor %}
    </ul>
    {% endif %}
</div>
<div class="create-div">
    <form action="{% url 'auction:create' %}" method="POST" enctype="multipart/form-data" class="formal">
        <!-- {% if error_message %}<p class="error"><strong>{{ error_message }}</strong></p>{% endif %} -->
        {% csrf_token %}
        <label for="title">Product:</label>
        <div class="create-input">
            <input type="text" class="field-input" name="title" placeholder="ie. laptop, shoes.." maxlength="100">
        </div>
        <br>
        <label for="description">Descripton of the auction:</label>
        <br>
        <textarea name="description" placeholder="Pane oma deskription" maxlength="500"></textarea>
        <br>
        Total auction duration:
        <input type="range" name="duration" id="duration" value="720" min="1" max="1440" oninput="durationOut.value = duration.value">
        <output name="durationOut" id="durationOut">720</output> Minutes<br>
        <!-- original timer
        <label for="duration">Total auction duration</label>
        <br>
        <input type="number" name="duration" id="" max="100">
        -->
        <br>
        <label for="min_value">Starting value of the bidding</label>
        <br>
        <div class="create-input">
            <input type="number" class="field-input" name="min_value" placeholder="Min. 1€" min="1">
        </div>
        <br>
        <label for="buy_now">Set buy now?</label><input type="checkbox">
        <br>
        <div class="create-input">
            <input type="number" class="field-input" name="buy_now" placeholder="0€">
        </div>
        <br>
    </form>
</div>
<div class="mmm">
    <input type="button" name="add_image" id="add_image" value="Add Image">
    <div id="images"></div>
    <input type="submit" class="submit_button" name="submit_button" value="Create">
</div>

<script>
    document.getElementById("add_image").onclick = function(e) {
        let image = document.getElementById("images");
        let newInput = document.createElement("input");
        newInput.type = "file";
        newInput.name = "file[]";
        image.appendChild(newInput)
    }
</script>
{% endblock content %}